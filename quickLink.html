<style>
lable {
    font-weight: bold;
}

button {
    margin-bottom: 10px;
}
.button {
    background-color: #AD0EAD;
    border: none;
    border-radius: 4px;
    -webkit-box-shadow: 0 3px 0 #670867;
    -moz-box-shadow: 0 3px 0 #670867;
    box-shadow: 0 3px 0 #670867;
    color: #fff;
    cursor: pointer;
    display: inline-block;
    font-size: 1rem;
    letter-spacing: .8px;
    margin: 1.999rem 0.201rem;
    padding: 0.844rem 1.5rem;
    text-decoration: none;
    text-transform: uppercase;
    -webkit-transition: all 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
  -moz-transition: all 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
  -o-transition: all 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
    transition: all 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
}

.button:active,
.button:hover {
    background-color: #8a0b8a;
    -webkit-box-shadow: 0 1px 0 #670867;
    -moz-box-shadow: 0 1px 0 #670867;
    -o-box-shadow: 0 1px 0 #670867;
    box-shadow: 0 1px 0 #670867;
    -webkit-transform: translateY(2px);
    -moz-transform: translateY(2px);
    -ms-transform: translateY(2px);
    -o-transform: translateY(2px);
    transform: translateY(2px);
}

/* checkbox */ 
label.btn span {
  font-size: 1.5em ;
}

label input[type="checkbox"] ~ i.fa.fa-square-o{
    color: #c8c8c8;    display: inline;
}
label input[type="checkbox"] ~ i.fa.fa-check-square-o{
    display: none;
}
label input[type="checkbox"]:checked ~ i.fa.fa-square-o{
    display: none;
}
label input[type="checkbox"]:checked ~ i.fa.fa-check-square-o{
    color: #7AA3CC;    display: inline;
}
label:hover input[type="checkbox"] ~ i.fa {
color: #7AA3CC;
}

div[data-toggle="buttons"] label.active{
    color: #7AA3CC;
}

div[data-toggle="buttons"] label {
display: inline-block;
padding: 6px 12px;
margin-bottom: 0;
font-size: 14px;
font-weight: normal;
line-height: 2em;
text-align: left;
white-space: nowrap;
vertical-align: top;
cursor: pointer;
background-color: none;
border: 0px solid 
#c8c8c8;
border-radius: 3px;
color: #c8c8c8;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
-o-user-select: none;
user-select: none;
}

div[data-toggle="buttons"] label:hover {
color: #7AA3CC;
}

div[data-toggle="buttons"] label:active, div[data-toggle="buttons"] label.active {
-webkit-box-shadow: none;
box-shadow: none;
}

</style>
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet">
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-2.1.0.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<body onload="onload()">
    <div class="container">
        <h1>WS懶人買卡片(建議使用電腦)</h1>
        <div class="row">
            <div class="col-sm-5 col-xs-12">
                <form action="javascript:void(0);" autocomplete="off">
                    <div class="form-group">
                        <lable for="subject">卡號</lable>
                        <input type="text" id="cardNumber" class="form-control" placeholder="OSK/S107-001" required />
                    </div>
					    <hr />
				  <div class="btn-group btn-group" data-toggle="buttons">
					<label class="btn active"><input type="checkbox" name="shop" value='https://www.suruga-ya.jp/search?category=&search_word=' checked><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>駿河屋</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://www.torecolo.jp/shop/goods/search.aspx?ct2=10&search=x&keyword='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>トレコロ </span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://www.c-labo-online.jp/product-list?keyword='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>カードラボ </span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://yuyu-tei.jp/sell/ws/s/search?search_word='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>遊々亭</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://cardshop-serra.com/ws/products/list?name='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>Cardshop Serra</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://dorasuta.jp/weiss-schwarz/product-list?kw='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>ドラゴンスター</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://gurapan.jp/products/list?name='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>グラパン通販</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://order.mandarake.co.jp/order/listPage/list?keyword='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>まんだらけ通販</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://193tcg.com/products/list.php?name='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>193net</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://www.wakain.com/?mode=srh&cid=&keyword='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>wakin</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://weis.fukufukutoreka.com/products/list?name='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>福福トレカ</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://www.tcgmp.jp/product/?word='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>トレマ</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://www.manasource.net/product-list?keyword='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>マナソース</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://www.card-museum.com/?mode=srh&cid=&keyword='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>カードミュージアム</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://www.square-bushiroad.com/product-list?keyword='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>マスターズスクエアビ </span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://dp00013984.shop-pro.jp/?mode=srh&cid=&keyword='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>アヴァロン</span></label>
					<label class="btn"><input type="checkbox" name="shop" value='https://torearc.com/products/list?category_id=31&name='><i class="fa fa-square-o fa-2x"></i><i class="fa fa-check-square-o fa-2x"></i><span>トレアード</span></label>
				  </div>					

					<input type="submit" value="開啟勾選的網站" class="btn btn-primary" onclick="generate()" />
					</form>
            </div>
        </div>
    </div>

</body>

<script>
function auto_grow(element) {
    element.style.height = "5px";
    element.style.height = (element.scrollHeight)+"px";
}

function onload() {
    auto_grow(document.getElementById("result"));
}

function generate() {
    cardNumber = document.getElementById("cardNumber").value;
	if(cardNumber.trim().length !== 0){
		let checkboxes = document.querySelectorAll('input[name="shop"]:checked');
		let output = [];
		checkboxes.forEach((checkbox) => {
			let cardno = cardNumber;
			if(checkbox.value.includes("193tcg")){
				cardno = cardno.replace("-","/");
			}else if(checkbox.value.includes("tcgmp")||checkbox.value.includes("torecolo")){
				cardno = cardno.replace("/","-");
			}
			window.open(checkbox.value+cardno);
			//output.push(checkbox.value);
		});
	}
}
function OpenInNewTab(url) {
    var newTab = window.open(url, '_blank');
    newTab.location;
}
</script>
